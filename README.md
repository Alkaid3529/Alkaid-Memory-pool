# Memory Pool A
本项目实现了一个基于 C++ 11 `高性能内存池`的可`动态内存分配`的链表队列，队列支持`多线程`下 30 Hz 到 50 Hz 的数据输入和 10 Hz 的数据输出，项目内含自实现的 内存池 分配器，可以在一定程度上`提升内存分配性能`，减少内存碎片的产生和内存分配失败引起的程序崩溃。

# 项目背景
项目最初，Leader 的要求是设计一个可以`同时缓存多种数据类型的容器`，容器需要保证`先入先出`的存取规则，因此笔者理所当然的选择了对 STL 中的 deque 队列进行封装，并自行设计了数据结构满足多种数据的存取，插入数据可以通过重载实现，这也是第一版。

但是在测试过程中，由于`数据输入频率很高`，但是`取出速率较慢`，因此`数据很容易在队列中积压`，栈区`内存开销`会很大，而栈区内存只有在进程结束后才被回收，因此会导致整个`进程内存占用较大`，为了解决这个问题，笔者选择将类中成员类型修改为`指针`类型，这也就是第二版。

修改为指针后，当数据进入队列时分配堆区内存，当数据被取走后便可以即刻释放内存，从而一定程度上减少内存开销。虽然解决了内存开销问题，但是随着数据输入频率越来越高，渐渐产生了新的问题，即每次存入数据都需要在堆区申请内存，取出数据需要释放内存，`频繁的内存申请与释放存在一定的安全隐患`，而且最关键的是，程序效率也会有所下降，笔者查阅后发现，是因为每次 new delete 都需要和操作系统进行对接，这里存在一定的开销，会影响程序效率，而且可能会出现内存不足的情况，为了解决这个问题，笔者查阅一些资料后决定选择`内存池化技术`进行解决。


# 项目架构

## 内存池设计
指针，是 C/C++ 独特的一点，在程序设计中，不可避免的需要操作内存，但是直接操作内存的便捷性也会给程序设计带来许多隐患，可能会遇到内存不足、分配失败等特殊情况，而且每次内存分配都需要向操作系统申请，都存在时空开销，效率并不高。
为了更好地管理和优化程序内存，可以通过内存池化技术，在一定程度上降低操作内存的成本，提升程序效率，因此，在本项目中将实现一个性能不错的内存池用于解决笔者在工作过程中遇到的一些项目需求。

## 链表栈
为了验证内存池设计的性能，还需要设计一个可以进行动态内存分配的数据结构作为载体，分别使用默认分配器和内存池作为内存分配工具，进行相同的数据输入输出，观察两者的分配效率。常用的测试工具为链表栈结构，因此，笔者将首先实现一个链表栈，作为测试分配其性能的工具。

## 数据缓存池
数据池可以`存储多种格式数据`，并保证数据的`先入先出`存取，通过内存池提升数据存取效率。
出于一些原因，在这里笔者并未给出通过内存池实现的数据缓存队列，相信感兴趣的读者可以通过给出的内存池实现和队列设计可以自行实现。


